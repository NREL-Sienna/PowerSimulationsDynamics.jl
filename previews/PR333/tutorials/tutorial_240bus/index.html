<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>240 WECC solver comparison · PowerSimulationsDynamics.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="PowerSimulationsDynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerSimulationsDynamics.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Welcome Page</a></li><li><a class="tocitem" href="../../quick_start_guide/">Quick Start Guide</a></li><li><a class="tocitem" href="../../execute/">Simulation Execution</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorial_dynamic_data/">Create Dynamic Data</a></li><li><a class="tocitem" href="../tutorial_omib/">OMIB</a></li><li><a class="tocitem" href="../tutorial_dynamic_lines/">Dynamic Lines Simulation</a></li><li><a class="tocitem" href="../tutorial_inverter_modeling/">Inverter Modeling</a></li><li class="is-active"><a class="tocitem" href>240 WECC solver comparison</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Load-the-system-and-transform-load-data"><span>Load the system and transform load data</span></a></li><li><a class="tocitem" href="#Build-the-simulation-and-initialize-the-problem"><span>Build the simulation and initialize the problem</span></a></li><li><a class="tocitem" href="#Run-the-simulation-using-Sundials"><span>Run the simulation using Sundials</span></a></li><li><a class="tocitem" href="#Read-the-results-and-plot-a-system-variable"><span>Read the results and plot a system variable</span></a></li><li><a class="tocitem" href="#Run-the-simulation-using-Rodas4()"><span>Run the simulation using Rodas4()</span></a></li><li><a class="tocitem" href="#Read-the-results"><span>Read the results</span></a></li><li><a class="tocitem" href="#Compare-the-results"><span>Compare the results</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../models/">Models</a></li><li><a class="tocitem" href="../../initialization/">Initialization</a></li><li><a class="tocitem" href="../../small/">Small Signal</a></li><li><a class="tocitem" href="../../reference_frames/">Reference Frames</a></li><li><a class="tocitem" href="../../perturbations/">Perturbations</a></li><li><a class="tocitem" href="../../generic/">Industrial Renewable Models</a></li><li><span class="tocitem">Generator Component Library</span><ul><li><a class="tocitem" href="../../component_models/machines/">Machine</a></li><li><a class="tocitem" href="../../component_models/shafts/">Shaft</a></li><li><a class="tocitem" href="../../component_models/avr/">AVR</a></li><li><a class="tocitem" href="../../component_models/pss/">PSS</a></li><li><a class="tocitem" href="../../component_models/turbine_gov/">Turbine and Governor</a></li></ul></li><li><span class="tocitem">CIG Component Library</span><ul><li><a class="tocitem" href="../../component_models/converter/">Converter</a></li><li><a class="tocitem" href="../../component_models/dc_source/">DC Sources</a></li><li><a class="tocitem" href="../../component_models/filters/">Filter</a></li><li><a class="tocitem" href="../../component_models/freq_esti/">Frequency Estimators</a></li><li><a class="tocitem" href="../../component_models/inner_control/">Inner Control</a></li><li><a class="tocitem" href="../../component_models/outer_control/">Outer Control</a></li></ul></li><li><span class="tocitem">Branch Models</span><ul><li><a class="tocitem" href="../../component_models/network/">Network</a></li></ul></li><li><span class="tocitem">Load Models</span><ul><li><a class="tocitem" href="../../component_models/loads/">Load Models</a></li></ul></li><li><span class="tocitem">Code Base Developer Guide</span><ul><li><a class="tocitem" href="../../code_base_developer_guide/developer/">Developer Guide</a></li></ul></li><li><a class="tocitem" href="../../api/public/">Public API Reference</a></li><li><a class="tocitem" href="../../api/internal/">Internal API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>240 WECC solver comparison</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>240 WECC solver comparison</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL-Sienna/PowerSimulationsDynamics.jl/blob/main/docs/src/tutorials/tutorial_240bus.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="[PSSE-240-Bus-Case-system-with-Renewables](https://www.nrel.gov/grid/test-case-repository.html)"><a class="docs-heading-anchor" href="#[PSSE-240-Bus-Case-system-with-Renewables](https://www.nrel.gov/grid/test-case-repository.html)"><a href="https://www.nrel.gov/grid/test-case-repository.html">PSSE 240 Bus Case system with Renewables</a></a><a id="[PSSE-240-Bus-Case-system-with-Renewables](https://www.nrel.gov/grid/test-case-repository.html)-1"></a><a class="docs-heading-anchor-permalink" href="#[PSSE-240-Bus-Case-system-with-Renewables](https://www.nrel.gov/grid/test-case-repository.html)" title="Permalink"></a></h1><p><strong>Originally Contributed by</strong>: José Daniel Lara</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>This tutorial will introduce the industry models of Renewable Energy the comparisons between DiffEq Integration techniques for comparison. We show the uses of Sundials and OrdinaryDiffEq to obtain the transient response of a system to a perturbation.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using PowerSimulationsDynamics</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using PowerSystemCaseBuilder</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using PowerSystems</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; const PSY = PowerSystems</code><code class="nohighlight hljs ansi" style="display:block;">PowerSystems</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Sundials</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Plots</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using OrdinaryDiffEq</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>PowerSystemCaseBuilder.jl</code> is a helper library that makes it easier to reproduce examples in the documentation and tutorials. Normally you would pass your local files to create the system data instead of calling the function <code>build_system</code>. For more details visit <a href="https://nrel-sienna.github.io/PowerSystems.jl/stable/tutorials/powersystembuilder/">PowerSystemCaseBuilder Documentation</a></p></div></div><h2 id="Load-the-system-and-transform-load-data"><a class="docs-heading-anchor" href="#Load-the-system-and-transform-load-data">Load the system and transform load data</a><a id="Load-the-system-and-transform-load-data-1"></a><a class="docs-heading-anchor-permalink" href="#Load-the-system-and-transform-load-data" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; # We remove the checks in this example to avoid large prints
       sys = build_system(PSIDSystems, &quot;WECC 240 Bus&quot;; runchecks = false)</code><code class="nohighlight hljs ansi" style="display:block;">┌ Info: Building new system WECC 240 Bus from raw data
└   sys_descriptor.raw_data = &quot;&quot;
┌ Warning: The System was deserialized with checks disabled, and so was not validated.
└ @ PowerSystems ~/.julia/packages/PowerSystems/qRmML/src/base.jl:1452
[ Info: Serialized System to /home/runner/.julia/packages/PowerSystemCaseBuilder/a2tJy/data/serialized_system/NoArgs/WECC 240 Bus.json
[ Info: Serialized System metadata to /home/runner/.julia/packages/PowerSystemCaseBuilder/a2tJy/data/serialized_system/NoArgs/WECC 240 Bus_metadata.json
System
┌───────────────────┬─────────────┐
│ Property          │ Value       │
├───────────────────┼─────────────┤
│ Name              │             │
│ Description       │             │
│ System Units Base │ SYSTEM_BASE │
│ Base Power        │ 100.0       │
│ Base Frequency    │ 60.0        │
│ Num Components    │ 19          │
└───────────────────┴─────────────┘

Static Components
┌─────────────────┬───────┬────────────────────────┬───────────────┐
│ Type            │ Count │ Has Static Time Series │ Has Forecasts │
├─────────────────┼───────┼────────────────────────┼───────────────┤
│ Arc             │ 3     │ false                  │ false         │
│ Area            │ 1     │ false                  │ false         │
│ Bus             │ 3     │ false                  │ false         │
│ Line            │ 3     │ false                  │ false         │
│ LoadZone        │ 1     │ false                  │ false         │
│ Source          │ 1     │ false                  │ false         │
│ StandardLoad    │ 3     │ false                  │ false         │
│ ThermalStandard │ 2     │ false                  │ false         │
└─────────────────┴───────┴────────────────────────┴───────────────┘

Dynamic Components
┌──────────────────┬───────┐
│ Type             │ Count │
├──────────────────┼───────┤
│ DynamicGenerator │ 1     │
│ DynamicInverter  │ 1     │
└──────────────────┴───────┘</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; # Transform the system&#39;s load
       for l in get_components(PSY.StandardLoad, sys)
           transform_load_to_constant_impedance(l)
       end</code><code class="nohighlight hljs ansi" style="display:block;">┌ Warning: Load data is transformed under the assumption of a 1.0 p.u. Voltage Magnitude
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/utils/psy_utils.jl:81
┌ Warning: Load data is transformed under the assumption of a 1.0 p.u. Voltage Magnitude
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/utils/psy_utils.jl:81
┌ Warning: Load data is transformed under the assumption of a 1.0 p.u. Voltage Magnitude
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/utils/psy_utils.jl:81</code></pre><h2 id="Build-the-simulation-and-initialize-the-problem"><a class="docs-heading-anchor" href="#Build-the-simulation-and-initialize-the-problem">Build the simulation and initialize the problem</a><a id="Build-the-simulation-and-initialize-the-problem-1"></a><a class="docs-heading-anchor-permalink" href="#Build-the-simulation-and-initialize-the-problem" title="Permalink"></a></h2><p>The next step is to create the simulation structure. This will create the indexing of our system that will be used to formulate the differential-algebraic system of equations. To do so, it is required to specify the perturbation that will occur in the system. In this case, we will use a ResidualModel formulation, for more details about the formulation checkout the <a href="https://nrel-sienna.github.io/PowerSimulationsDynamics.jl/stable/models/">Models Section</a> in <code>PowerSimulationsDynamics.jl</code> documentation.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Logging</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; sim_ida = Simulation(
           ResidualModel,
           sys, #system
           pwd(),
           (0.0, 20.0), #time span
           BranchTrip(1.0, Line, &quot;CORONADO    -1101-PALOVRDE    -1401-i_10&quot;);
           console_level = Logging.Info,
       )</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: Unit System changed to UnitSystem.DEVICE_BASE = 1
[ Info: The reference Bus has a Source connected to it. The frequency reference model will change to ConstantFrequency
[ Info: Pre-Initializing Simulation States
[ Info: Unit System changed to UnitSystem.SYSTEM_BASE = 0
[ Info: PowerFlow solve converged, the results have been stored in the system
[ Info: Unit System changed to UnitSystem.DEVICE_BASE = 1
[ Info: Residual from initial guess: max = 1.004487742983784e-10 at 4, total = 1.4981559582778173e-9
Iter     f(x) inf-norm    Step 2-norm 
------   --------------   --------------
     0     1.178776e-09              NaN
     1     1.789548e-11     9.720127e-11
[ Info: Initialization non-linear solve succeeded with a tolerance of 1.0e-9 using solver trust_region. Saving solution.
[ Info: Attaching Perturbations
┌ Error: ResidualModel failed to build
│   exception =
│    InfrastructureSystems.ConflictingInputsError(&quot;Branch Line CORONADO    -1101-PALOVRDE    -1401-i_10 not existent or unavailable in the system. Use PSY.show_components(system, Line) to check valid component names&quot;)
│    Stacktrace:
│      [1] _get_branch_for_perturbation(sys::System, perturbation::BranchTrip)
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/perturbations.jl:68
│      [2] get_affect
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/perturbations.jl:103 [inlined]
│      [3] _add_callback!(tstops::Vector{Float64}, callback_vector::Vector{SciMLBase.DiscreteCallback}, ix::Int64, pert::BranchTrip, sim::Simulation{ResidualModel}, inputs::PowerSimulationsDynamics.SimulationInputs)
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:324
│      [4] _build_perturbations!(sim::Simulation{ResidualModel})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:307
│      [5] macro expansion
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:421 [inlined]
│      [6] macro expansion
│        @ ~/.julia/packages/TimerOutputs/RsWnF/src/TimerOutput.jl:237 [inlined]
│      [7] macro expansion
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:420 [inlined]
│      [8] macro expansion
│        @ ~/.julia/packages/TimerOutputs/RsWnF/src/TimerOutput.jl:237 [inlined]
│      [9] _build!(sim::Simulation{ResidualModel}; kwargs::Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:387
│     [10] _build!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:378 [inlined]
│     [11] (::PowerSimulationsDynamics.var&quot;#108#109&quot;{Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}}, Simulation{ResidualModel}})()
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:442
│     [12] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [13] with_logger
│        @ ./logging.jl:626 [inlined]
│     [14] #build!#107
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:441 [inlined]
│     [15] build!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:439 [inlined]
│     [16] Simulation(::Type{ResidualModel}, system::System, simulation_folder::String, tspan::Tuple{Float64, Float64}, perturbations::Vector{BranchTrip}; kwargs::Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:188
│     [17] Simulation
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:166 [inlined]
│     [18] #Simulation#96
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:78 [inlined]
│     [19] top-level scope
│        @ REPL[2]:1
│     [20] eval
│        @ ./boot.jl:370 [inlined]
│     [21] #21
│        @ ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:721 [inlined]
│     [22] cd(f::Documenter.Expanders.var&quot;#21#23&quot;{Module}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [23] (::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module})()
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:720
│     [24] (::IOCapture.var&quot;#3#5&quot;{DataType, Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}, Task, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}})()
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:119
│     [25] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [26] with_logger
│        @ ./logging.jl:626 [inlined]
│     [27] capture(f::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}; rethrow::Type, color::Bool)
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:116
│     [28] runner(#unused#::Type{Documenter.Expanders.REPLBlocks}, x::Markdown.Code, page::Documenter.Documents.Page, doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:719
│     [29] dispatch(::Type{Documenter.Expanders.ExpanderPipeline}, ::Markdown.Code, ::Vararg{Any})
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [30] expand(doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:42
│     [31] runner(#unused#::Type{Documenter.Builder.ExpandTemplates}, doc::Documenter.Documents.Document)
│        @ Documenter.Builder ~/.julia/packages/Documenter/H5y27/src/Builder.jl:226
│     [32] dispatch(#unused#::Type{Documenter.Builder.DocumentPipeline}, x::Documenter.Documents.Document)
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [33] #2
│        @ ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:273 [inlined]
│     [34] cd(f::Documenter.var&quot;#2#3&quot;{Documenter.Documents.Document}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [35] makedocs(; debug::Bool, format::Documenter.Writers.HTMLWriter.HTML, kwargs::Base.Pairs{Symbol, Any, Tuple{Symbol, Symbol, Symbol}, NamedTuple{(:modules, :sitename, :pages), Tuple{Vector{Module}, String, Vector{Any}}}})
│        @ Documenter ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:272
│     [36] top-level scope
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/docs/make.jl:3
│     [37] include(mod::Module, _path::String)
│        @ Base ./Base.jl:457
│     [38] exec_options(opts::Base.JLOptions)
│        @ Base ./client.jl:307
│     [39] _start()
│        @ Base ./client.jl:522
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:432
┌ Info: 
│  ───────────────────────────────────────────────────────────────────────────────
│                                                      Time          Allocations  
│                                                ───────────────   ───────────────
│                 Total measured:                     11.4s             741MiB    
│ 
│  Section                               ncalls     time    %tot     alloc    %tot
│  ───────────────────────────────────────────────────────────────────────────────
│  Build Simulation                           1    11.4s  100.0%    741MiB  100.0%
│    Build Simulation Inputs                  1    1.32s   11.6%   69.9MiB    9.4%
│      Wrap Branches                          1   7.10μs    0.0%      240B    0.0%
│      Wrap Dynamic Injectors                 1    858ms    7.5%   50.1MiB    6.8%
│      Calculate MM, DAE_vector, Tota...      1    183ms    1.6%   13.1MiB    1.8%
│      Wrap Static Injectors                  1    257ms    2.3%   6.12MiB    0.8%
│    Pre-initialization                       1    2.68s   23.6%    233MiB   31.5%
│      Power Flow solution                    1    118ms    1.0%   2.35MiB    0.3%
│      Initialize Static Injectors            1   40.5μs    0.0%   3.16KiB    0.0%
│      Initialize Dynamic Injectors           1    2.56s   22.5%    231MiB   31.2%
│    Calculate Jacobian                       1    4.31s   37.9%    346MiB   46.7%
│    Make Model Function                      1   16.1μs    0.0%      912B    0.0%
│    Initial Condition NLsolve refine...      1    2.10s   18.4%   46.9MiB    6.3%
│    Build Perturbations                      1   67.1ms    0.6%   1.88MiB    0.3%
│  ───────────────────────────────────────────────────────────────────────────────
└ 
Simulation Summary
┌─────────────────────────┬────────────────┐
│ Property                │ Value          │
├─────────────────────────┼────────────────┤
│ Status                  │ BUILD_FAILED   │
│ Simulation Type         │ Residual Model │
│ Initialized?            │ Yes            │
│ Multimachine system?    │ No             │
│ Time Span               │ (0.0, 20.0)    │
│ Number of States        │ 33             │
│ Number of Perturbations │ 1              │
└─────────────────────────┴────────────────┘</code></pre><h2 id="Run-the-simulation-using-Sundials"><a class="docs-heading-anchor" href="#Run-the-simulation-using-Sundials">Run the simulation using Sundials</a><a id="Run-the-simulation-using-Sundials-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-simulation-using-Sundials" title="Permalink"></a></h2><p>We will now run the simulation using Sundials.jl solver IDA() by specifying the maximum dt we want for the simulation. In our experience with this solver, solution times are faster when supplying information about the maximum time step than the tolerances as we can see in the example</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; execute!(sim_ida, IDA(), dtmax = 0.01)</code><code class="nohighlight hljs ansi" style="display:block;">┌ Error: Execution failed
│   exception =
│    The Simulation status is BUILD_FAILED. Can not continue, correct your inputs and build the simulation again.
│    Stacktrace:
│      [1] error(s::String)
│        @ Base ./error.jl:35
│      [2] simulation_pre_step!(sim::Simulation{ResidualModel})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:460
│      [3] _execute!(sim::Simulation{ResidualModel}, solver::Sundials.IDA{:Dense, Nothing, Nothing}; kwargs::Base.Pairs{Symbol, Float64, Tuple{Symbol}, NamedTuple{(:dtmax,), Tuple{Float64}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:486
│      [4] _execute!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:484 [inlined]
│      [5] (::PowerSimulationsDynamics.var&quot;#116#117&quot;{Base.Pairs{Symbol, Float64, Tuple{Symbol}, NamedTuple{(:dtmax,), Tuple{Float64}}}, Simulation{ResidualModel}, Sundials.IDA{:Dense, Nothing, Nothing}})()
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:543
│      [6] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│      [7] with_logger
│        @ ./logging.jl:626 [inlined]
│      [8] #execute!#115
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:541 [inlined]
│      [9] top-level scope
│        @ REPL[1]:1
│     [10] eval
│        @ ./boot.jl:370 [inlined]
│     [11] #21
│        @ ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:721 [inlined]
│     [12] cd(f::Documenter.Expanders.var&quot;#21#23&quot;{Module}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [13] (::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module})()
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:720
│     [14] (::IOCapture.var&quot;#3#5&quot;{DataType, Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}, Task, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}})()
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:119
│     [15] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [16] with_logger
│        @ ./logging.jl:626 [inlined]
│     [17] capture(f::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}; rethrow::Type, color::Bool)
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:116
│     [18] runner(#unused#::Type{Documenter.Expanders.REPLBlocks}, x::Markdown.Code, page::Documenter.Documents.Page, doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:719
│     [19] dispatch(::Type{Documenter.Expanders.ExpanderPipeline}, ::Markdown.Code, ::Vararg{Any})
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [20] expand(doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:42
│     [21] runner(#unused#::Type{Documenter.Builder.ExpandTemplates}, doc::Documenter.Documents.Document)
│        @ Documenter.Builder ~/.julia/packages/Documenter/H5y27/src/Builder.jl:226
│     [22] dispatch(#unused#::Type{Documenter.Builder.DocumentPipeline}, x::Documenter.Documents.Document)
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [23] #2
│        @ ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:273 [inlined]
│     [24] cd(f::Documenter.var&quot;#2#3&quot;{Documenter.Documents.Document}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [25] makedocs(; debug::Bool, format::Documenter.Writers.HTMLWriter.HTML, kwargs::Base.Pairs{Symbol, Any, Tuple{Symbol, Symbol, Symbol}, NamedTuple{(:modules, :sitename, :pages), Tuple{Vector{Module}, String, Vector{Any}}}})
│        @ Documenter ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:272
│     [26] top-level scope
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/docs/make.jl:3
│     [27] include(mod::Module, _path::String)
│        @ Base ./Base.jl:457
│     [28] exec_options(opts::Base.JLOptions)
│        @ Base ./client.jl:307
│     [29] _start()
│        @ Base ./client.jl:522
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:545
SIMULATION_FAILED::BUILD_STATUS = 7</code></pre><h2 id="Read-the-results-and-plot-a-system-variable"><a class="docs-heading-anchor" href="#Read-the-results-and-plot-a-system-variable">Read the results and plot a system variable</a><a id="Read-the-results-and-plot-a-system-variable-1"></a><a class="docs-heading-anchor-permalink" href="#Read-the-results-and-plot-a-system-variable" title="Permalink"></a></h2><p>After the simulation is completed, we can extract the results and make plots as desired. In this case, we will plot the voltage magnitude at the bus at which the line was connected.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; res_ida = read_results(sim_ida)</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; v1101_ida = get_voltage_magnitude_series(res_ida, 1101);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching get_voltage_magnitude_series(::Nothing, ::Int64)

Closest candidates are:
  get_voltage_magnitude_series(!Matched::SimulationResults, ::Int64; dt)
   @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation_results.jl:300</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; plot(v1101_ida);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `v1101_ida` not defined</code></pre><p><img src="../figs/v1101_ida.svg" alt="plot"/></p><h2 id="Run-the-simulation-using-Rodas4()"><a class="docs-heading-anchor" href="#Run-the-simulation-using-Rodas4()">Run the simulation using Rodas4()</a><a id="Run-the-simulation-using-Rodas4()-1"></a><a class="docs-heading-anchor-permalink" href="#Run-the-simulation-using-Rodas4()" title="Permalink"></a></h2><p>In this case, we will use a MassMatrixModel formulation, for more details about the formulation checkout the <a href="https://nrel-sienna.github.io/PowerSimulationsDynamics.jl/stable/models/">Models Section</a> in <code>PowerSimulationsDynamics.jl</code> documentation</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; sim_rodas = Simulation(
           MassMatrixModel,
           sys, #system
           pwd(),
           (0.0, 20.0), #time span
           BranchTrip(1.0, Line, &quot;CORONADO    -1101-PALOVRDE    -1401-i_10&quot;);
           console_level = Logging.Info,
       )</code><code class="nohighlight hljs ansi" style="display:block;">[ Info: Unit System changed to UnitSystem.DEVICE_BASE = 1
[ Info: The reference Bus has a Source connected to it. The frequency reference model will change to ConstantFrequency
[ Info: Pre-Initializing Simulation States
[ Info: Unit System changed to UnitSystem.SYSTEM_BASE = 0
[ Info: PowerFlow solve converged, the results have been stored in the system
[ Info: Unit System changed to UnitSystem.DEVICE_BASE = 1
[ Info: Residual from initial guess: max = 1.004487742983784e-10 at 4, total = 1.4981559582778173e-9
Iter     f(x) inf-norm    Step 2-norm 
------   --------------   --------------
     0     1.178776e-09              NaN
     1     1.789548e-11     9.720127e-11
[ Info: Initialization non-linear solve succeeded with a tolerance of 1.0e-9 using solver trust_region. Saving solution.
[ Info: Attaching Perturbations
┌ Error: MassMatrixModel failed to build
│   exception =
│    InfrastructureSystems.ConflictingInputsError(&quot;Branch Line CORONADO    -1101-PALOVRDE    -1401-i_10 not existent or unavailable in the system. Use PSY.show_components(system, Line) to check valid component names&quot;)
│    Stacktrace:
│      [1] _get_branch_for_perturbation(sys::System, perturbation::BranchTrip)
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/perturbations.jl:68
│      [2] get_affect
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/perturbations.jl:103 [inlined]
│      [3] _add_callback!(tstops::Vector{Float64}, callback_vector::Vector{SciMLBase.DiscreteCallback}, ix::Int64, pert::BranchTrip, sim::Simulation{MassMatrixModel}, inputs::PowerSimulationsDynamics.SimulationInputs)
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:324
│      [4] _build_perturbations!(sim::Simulation{MassMatrixModel})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:307
│      [5] macro expansion
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:421 [inlined]
│      [6] macro expansion
│        @ ~/.julia/packages/TimerOutputs/RsWnF/src/TimerOutput.jl:237 [inlined]
│      [7] macro expansion
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:420 [inlined]
│      [8] macro expansion
│        @ ~/.julia/packages/TimerOutputs/RsWnF/src/TimerOutput.jl:237 [inlined]
│      [9] _build!(sim::Simulation{MassMatrixModel}; kwargs::Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:387
│     [10] _build!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:378 [inlined]
│     [11] (::PowerSimulationsDynamics.var&quot;#108#109&quot;{Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}}, Simulation{MassMatrixModel}})()
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:442
│     [12] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [13] with_logger
│        @ ./logging.jl:626 [inlined]
│     [14] #build!#107
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:441 [inlined]
│     [15] build!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:439 [inlined]
│     [16] Simulation(::Type{MassMatrixModel}, system::System, simulation_folder::String, tspan::Tuple{Float64, Float64}, perturbations::Vector{BranchTrip}; kwargs::Base.Pairs{Symbol, Base.CoreLogging.LogLevel, Tuple{Symbol}, NamedTuple{(:console_level,), Tuple{Base.CoreLogging.LogLevel}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:188
│     [17] Simulation
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:166 [inlined]
│     [18] #Simulation#96
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:78 [inlined]
│     [19] top-level scope
│        @ REPL[1]:1
│     [20] eval
│        @ ./boot.jl:370 [inlined]
│     [21] #21
│        @ ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:721 [inlined]
│     [22] cd(f::Documenter.Expanders.var&quot;#21#23&quot;{Module}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [23] (::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module})()
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:720
│     [24] (::IOCapture.var&quot;#3#5&quot;{DataType, Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}, Task, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}})()
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:119
│     [25] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [26] with_logger
│        @ ./logging.jl:626 [inlined]
│     [27] capture(f::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}; rethrow::Type, color::Bool)
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:116
│     [28] runner(#unused#::Type{Documenter.Expanders.REPLBlocks}, x::Markdown.Code, page::Documenter.Documents.Page, doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:719
│     [29] dispatch(::Type{Documenter.Expanders.ExpanderPipeline}, ::Markdown.Code, ::Vararg{Any})
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [30] expand(doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:42
│     [31] runner(#unused#::Type{Documenter.Builder.ExpandTemplates}, doc::Documenter.Documents.Document)
│        @ Documenter.Builder ~/.julia/packages/Documenter/H5y27/src/Builder.jl:226
│     [32] dispatch(#unused#::Type{Documenter.Builder.DocumentPipeline}, x::Documenter.Documents.Document)
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [33] #2
│        @ ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:273 [inlined]
│     [34] cd(f::Documenter.var&quot;#2#3&quot;{Documenter.Documents.Document}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [35] makedocs(; debug::Bool, format::Documenter.Writers.HTMLWriter.HTML, kwargs::Base.Pairs{Symbol, Any, Tuple{Symbol, Symbol, Symbol}, NamedTuple{(:modules, :sitename, :pages), Tuple{Vector{Module}, String, Vector{Any}}}})
│        @ Documenter ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:272
│     [36] top-level scope
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/docs/make.jl:3
│     [37] include(mod::Module, _path::String)
│        @ Base ./Base.jl:457
│     [38] exec_options(opts::Base.JLOptions)
│        @ Base ./client.jl:307
│     [39] _start()
│        @ Base ./client.jl:522
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:432
┌ Info: 
│  ───────────────────────────────────────────────────────────────────────────────
│                                                      Time          Allocations  
│                                                ───────────────   ───────────────
│                 Total measured:                     5.18s             334MiB    
│ 
│  Section                               ncalls     time    %tot     alloc    %tot
│  ───────────────────────────────────────────────────────────────────────────────
│  Build Simulation                           1    5.18s  100.0%    334MiB  100.0%
│    Build Simulation Inputs                  1    748μs    0.0%    225KiB    0.1%
│      Wrap Branches                          1   5.20μs    0.0%      240B    0.0%
│      Wrap Dynamic Injectors                 1    273μs    0.0%   43.9KiB    0.0%
│      Calculate MM, DAE_vector, Tota...      1   23.8μs    0.0%   2.17KiB    0.0%
│      Wrap Static Injectors                  1   57.9μs    0.0%   11.2KiB    0.0%
│    Pre-initialization                       1   1.01ms    0.0%    326KiB    0.1%
│      Power Flow solution                    1    635μs    0.0%    180KiB    0.1%
│      Initialize Static Injectors            1   36.1μs    0.0%   3.16KiB    0.0%
│      Initialize Dynamic Injectors           1    256μs    0.0%    129KiB    0.0%
│    Calculate Jacobian                       1    4.01s   77.4%    318MiB   95.2%
│    Make Model Function                      1   8.42ms    0.2%   95.7KiB    0.0%
│    Initial Condition NLsolve refine...      1    992ms   19.2%   11.8MiB    3.5%
│    Build Perturbations                      1   18.4ms    0.4%    570KiB    0.2%
│  ───────────────────────────────────────────────────────────────────────────────
└ 
Simulation Summary
┌─────────────────────────┬───────────────────┐
│ Property                │ Value             │
├─────────────────────────┼───────────────────┤
│ Status                  │ BUILD_FAILED      │
│ Simulation Type         │ Mass Matrix Model │
│ Initialized?            │ Yes               │
│ Multimachine system?    │ No                │
│ Time Span               │ (0.0, 20.0)       │
│ Number of States        │ 33                │
│ Number of Perturbations │ 1                 │
└─────────────────────────┴───────────────────┘</code></pre><p>We will now run the simulation using OrdinaryDiffEq.jl solver Rodas4() by specifying the tolerance we want for the simulation. In our experience with this solver, solution times are faster when supplying information about the atol and rtol values as we can see in the example. The solver will also work with a specified dtmax but take a significantly longer time to solve. When using OrdinaryDiffEq.jl solvers always pass the option <code>initializealg = NoInit()</code> to avoid unnecessary re-initialization of the algebraic equations.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; execute!(
           sim_rodas,
           Rodas4(),
           saveat = 0.01,
           atol = 1e-10,
           rtol = 1e-10,
           initializealg = NoInit(),
       )</code><code class="nohighlight hljs ansi" style="display:block;">┌ Error: Execution failed
│   exception =
│    The Simulation status is BUILD_FAILED. Can not continue, correct your inputs and build the simulation again.
│    Stacktrace:
│      [1] error(s::String)
│        @ Base ./error.jl:35
│      [2] simulation_pre_step!(sim::Simulation{MassMatrixModel})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:460
│      [3] _execute!(sim::Simulation{MassMatrixModel}, solver::OrdinaryDiffEq.Rodas4{0, true, Nothing, typeof(OrdinaryDiffEq.DEFAULT_PRECS), Val{:forward}, true, nothing}; kwargs::Base.Pairs{Symbol, Any, NTuple{4, Symbol}, NamedTuple{(:saveat, :atol, :rtol, :initializealg), Tuple{Float64, Float64, Float64, SciMLBase.NoInit}}})
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:486
│      [4] _execute!
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:484 [inlined]
│      [5] (::PowerSimulationsDynamics.var&quot;#116#117&quot;{Base.Pairs{Symbol, Any, NTuple{4, Symbol}, NamedTuple{(:saveat, :atol, :rtol, :initializealg), Tuple{Float64, Float64, Float64, SciMLBase.NoInit}}}, Simulation{MassMatrixModel}, OrdinaryDiffEq.Rodas4{0, true, Nothing, typeof(OrdinaryDiffEq.DEFAULT_PRECS), Val{:forward}, true, nothing}})()
│        @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:543
│      [6] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│      [7] with_logger
│        @ ./logging.jl:626 [inlined]
│      [8] #execute!#115
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:541 [inlined]
│      [9] top-level scope
│        @ REPL[1]:1
│     [10] eval
│        @ ./boot.jl:370 [inlined]
│     [11] #21
│        @ ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:721 [inlined]
│     [12] cd(f::Documenter.Expanders.var&quot;#21#23&quot;{Module}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [13] (::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module})()
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:720
│     [14] (::IOCapture.var&quot;#3#5&quot;{DataType, Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}, Task, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}, IOContext{Base.PipeEndpoint}})()
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:119
│     [15] with_logstate(f::Function, logstate::Any)
│        @ Base.CoreLogging ./logging.jl:514
│     [16] with_logger
│        @ ./logging.jl:626 [inlined]
│     [17] capture(f::Documenter.Expanders.var&quot;#20#22&quot;{Documenter.Documents.Page, Module}; rethrow::Type, color::Bool)
│        @ IOCapture ~/.julia/packages/IOCapture/8Uj7o/src/IOCapture.jl:116
│     [18] runner(#unused#::Type{Documenter.Expanders.REPLBlocks}, x::Markdown.Code, page::Documenter.Documents.Page, doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:719
│     [19] dispatch(::Type{Documenter.Expanders.ExpanderPipeline}, ::Markdown.Code, ::Vararg{Any})
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [20] expand(doc::Documenter.Documents.Document)
│        @ Documenter.Expanders ~/.julia/packages/Documenter/H5y27/src/Expanders.jl:42
│     [21] runner(#unused#::Type{Documenter.Builder.ExpandTemplates}, doc::Documenter.Documents.Document)
│        @ Documenter.Builder ~/.julia/packages/Documenter/H5y27/src/Builder.jl:226
│     [22] dispatch(#unused#::Type{Documenter.Builder.DocumentPipeline}, x::Documenter.Documents.Document)
│        @ Documenter.Utilities.Selectors ~/.julia/packages/Documenter/H5y27/src/Utilities/Selectors.jl:170
│     [23] #2
│        @ ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:273 [inlined]
│     [24] cd(f::Documenter.var&quot;#2#3&quot;{Documenter.Documents.Document}, dir::String)
│        @ Base.Filesystem ./file.jl:112
│     [25] makedocs(; debug::Bool, format::Documenter.Writers.HTMLWriter.HTML, kwargs::Base.Pairs{Symbol, Any, Tuple{Symbol, Symbol, Symbol}, NamedTuple{(:modules, :sitename, :pages), Tuple{Vector{Module}, String, Vector{Any}}}})
│        @ Documenter ~/.julia/packages/Documenter/H5y27/src/Documenter.jl:272
│     [26] top-level scope
│        @ ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/docs/make.jl:3
│     [27] include(mod::Module, _path::String)
│        @ Base ./Base.jl:457
│     [28] exec_options(opts::Base.JLOptions)
│        @ Base ./client.jl:307
│     [29] _start()
│        @ Base ./client.jl:522
└ @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation.jl:545
SIMULATION_FAILED::BUILD_STATUS = 7</code></pre><h2 id="Read-the-results"><a class="docs-heading-anchor" href="#Read-the-results">Read the results</a><a id="Read-the-results-1"></a><a class="docs-heading-anchor-permalink" href="#Read-the-results" title="Permalink"></a></h2><p>After the simulation is completed, we can extract the results and make plots as desired. In this case, we will plot the voltage magnitude at the bus at which the line was connected.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; res_rodas = read_results(sim_rodas)</code><code class="nohighlight hljs ansi" style="display:block;"></code></pre><h2 id="Compare-the-results"><a class="docs-heading-anchor" href="#Compare-the-results">Compare the results</a><a id="Compare-the-results-1"></a><a class="docs-heading-anchor-permalink" href="#Compare-the-results" title="Permalink"></a></h2><p>After the simulation is completed, we can extract the results and make plots as desired. In this case, we will plot the voltage magnitude at the bus at which the line was connected. For both of the solution techniques.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; v1101 = get_voltage_magnitude_series(res_rodas, 1101);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching get_voltage_magnitude_series(::Nothing, ::Int64)

Closest candidates are:
  get_voltage_magnitude_series(!Matched::SimulationResults, ::Int64; dt)
   @ PowerSimulationsDynamics ~/work/PowerSimulationsDynamics.jl/PowerSimulationsDynamics.jl/src/base/simulation_results.jl:300</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; plot(v1101, label = &quot;RODAS4&quot;);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `v1101` not defined</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; plot!(v1101_ida, label = &quot;IDA&quot;);</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: UndefVarError: `v1101_ida` not defined</code></pre><p><img src="../figs/v1101_comparison.svg" alt="plot"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorial_inverter_modeling/">« Inverter Modeling</a><a class="docs-footer-nextpage" href="../../models/">Models »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 26 June 2023 21:18">Monday 26 June 2023</span>. Using Julia version 1.9.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
