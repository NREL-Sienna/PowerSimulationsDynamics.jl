<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Models · PowerSimulationsDynamics.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="PowerSimulationsDynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PowerSimulationsDynamics.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Welcome Page</a></li><li><a class="tocitem" href="../quick_start_guide/">Quick Start Guide</a></li><li><a class="tocitem" href="../tutorials_page/">Tutorials</a></li><li class="is-active"><a class="tocitem" href>Models</a><ul class="internal"><li><a class="tocitem" href="#Simulation-Models"><span>Simulation Models</span></a></li><li><a class="tocitem" href="#Solution-approaches"><span>Solution approaches</span></a></li><li><a class="tocitem" href="#Generator-Models"><span>Generator Models</span></a></li><li><a class="tocitem" href="#Inverter-Models"><span>Inverter Models</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li></ul></li><li><a class="tocitem" href="../initialization/">Initialization</a></li><li><a class="tocitem" href="../small/">Small Signal</a></li><li><a class="tocitem" href="../reference_frames/">Reference Frames</a></li><li><a class="tocitem" href="../generic/">Renewable Models</a></li><li><span class="tocitem">Generator Component Library</span><ul><li><a class="tocitem" href="../component_models/machines/">Machine</a></li><li><a class="tocitem" href="../component_models/shafts/">Shaft</a></li><li><a class="tocitem" href="../component_models/avr/">AVR</a></li><li><a class="tocitem" href="../component_models/pss/">PSS</a></li><li><a class="tocitem" href="../component_models/turbine_gov/">Turbine and Governor</a></li></ul></li><li><span class="tocitem">CIG Component Library</span><ul><li><a class="tocitem" href="../component_models/converter/">Converter</a></li><li><a class="tocitem" href="../component_models/dc_source/">DC Sources</a></li><li><a class="tocitem" href="../component_models/filters/">Filter</a></li><li><a class="tocitem" href="../component_models/freq_esti/">Frequency Estimators</a></li><li><a class="tocitem" href="../component_models/inner_control/">Inner Control</a></li><li><a class="tocitem" href="../component_models/outer_control/">Outer Control</a></li></ul></li><li><span class="tocitem">Branch Models</span><ul><li><a class="tocitem" href="../component_models/network/">Network</a></li></ul></li><li><span class="tocitem">Code Base Developer Guide</span><ul><li><a class="tocitem" href="../code_base_developer_guide/developer/">Developer Guide</a></li></ul></li><li><a class="tocitem" href="../api/public/">Public API Reference</a></li><li><a class="tocitem" href="../api/internal/">Internal API Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Models</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/NREL-SIIP/PowerSimulationsDynamics.jl/blob/master/docs/src/models.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Models"><a class="docs-heading-anchor" href="#Models">Models</a><a id="Models-1"></a><a class="docs-heading-anchor-permalink" href="#Models" title="Permalink"></a></h1><h2 id="Simulation-Models"><a class="docs-heading-anchor" href="#Simulation-Models">Simulation Models</a><a id="Simulation-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation-Models" title="Permalink"></a></h2><p>PowerSimulations dynamics supports two formulations for the simulation model and define different methods for each simulation model. You can pass <code>ResidualModel</code> or <code>MassMatrixModel</code> to a call to Simulation to define the preferred formulation.</p><p>In this way, we provide a common set of development requirements for contributors of new models that maintains the same flexibility in choosing the solving algorithm.</p><ul><li><em>MassMatrixModel</em>: Defines models that can be solved using <a href="https://diffeq.sciml.ai/stable/solvers/dae_solve/#OrdinaryDiffEq.jl-(Mass-Matrix)">Mass-Matrix Solvers</a>. The model is formulated as follows:</li></ul><p class="math-container">\[\begin{align}
M\frac{dx(t)}{dt} = f(x(t))
\end{align}\]</p><p>At this stage we have not conducted extensive tests with all the solvers in <a href="https://diffeq.sciml.ai/">DifferentialEquations</a> most of our tests use <code>Rodas5()</code>.</p><ul><li><em>ResidualModel</em>: Define models that can be solved using <a href="https://diffeq.sciml.ai/stable/solvers/dae_solve/#OrdinaryDiffEq.jl-(Implicit-ODE)">Implicit ODE solvers</a> and also the solver IDA from <a href="https://diffeq.sciml.ai/stable/solvers/dae_solve/#Sundials.jl">Sundials</a>. The model is formulated to solved the following problem:</li></ul><p class="math-container">\[\begin{align}
r(t) = \frac{dx(t)}{dt} - f(x(t))
\end{align}\]</p><p>At this stage we have not conducted extensive tests with all the solvers in <a href="https://diffeq.sciml.ai/">DifferentialEquations</a> if you are solving a larger system use <code>IDA()</code>.</p><h3 id="The-dynamic-systen-model-in-PowerSimulationsDynamics"><a class="docs-heading-anchor" href="#The-dynamic-systen-model-in-PowerSimulationsDynamics">The dynamic systen model in PowerSimulationsDynamics</a><a id="The-dynamic-systen-model-in-PowerSimulationsDynamics-1"></a><a class="docs-heading-anchor-permalink" href="#The-dynamic-systen-model-in-PowerSimulationsDynamics" title="Permalink"></a></h3><p>In order to support both formulations, the default implementation of the ResidualModel solves the following problem:</p><p class="math-container">\[\begin{align}
r(t) = M\frac{dx(t)}{dt} - f(x(t))
\end{align}\]</p><h2 id="Solution-approaches"><a class="docs-heading-anchor" href="#Solution-approaches">Solution approaches</a><a id="Solution-approaches-1"></a><a class="docs-heading-anchor-permalink" href="#Solution-approaches" title="Permalink"></a></h2><p><code>PowerSimulationsDynamics.jl</code> construct the entire function that is passed to <a href="https://diffeq.sciml.ai/">DifferentialEquations</a> to solve it using different solvers. This is called the Simultaneous-solution approach to numerically integrate over time. It gives the user the flexibility to model devices with a combination of differential and algebraic states. In addition, it gives the flexibility to model the network using an algebraic or differential model.</p><p>On the other hand, industrial tools such as PSS/E uses a Partitioned-solution approach, on which the network must be modeled using an algebraic approach, and the differential equations and algebraic equations are solved sequentially. This method is usually faster if the heuristics for convergence when solving sequentially are properly tuned. However, boundary techniques must be considered when the connection with the devices and network is not converging when applying the partitioned-solution approach.</p><p>The difference in solution methods can complicate the validation and comparison between software tools. In addition it can affect the computational properties due to reliance of heuristics. These solution aspects are important to consider when using different tools for simulating power systems dynamics.</p><p>For more details, check Brian Stott paper <a href="https://ieeexplore.ieee.org/document/1455502">&quot;Power system dynamic response calculations&quot;</a>.</p><h2 id="Generator-Models"><a class="docs-heading-anchor" href="#Generator-Models">Generator Models</a><a id="Generator-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Generator-Models" title="Permalink"></a></h2><p>Here we discuss the structure and models used to model generators in <code>PowerSimulationsDynamics.jl</code>. See <a href="https://nrel-siip.github.io/PowerSystems.jl/stable/modeler_guide/example_dynamic_data/"><code>PowerSystems.jl</code> dynamic devices</a> for details.</p><p>Each generator is a data structure composed of the following components defined in <code>PowerSystems.jl</code>:</p><ul><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_Machine/#Machine"><code>Machine</code></a>: That defines the stator electro-magnetic dynamics.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_Shaft/#Shaft"><code>Shaft</code></a>: That describes the rotor electro-mechanical dynamics.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_AVR/#AVR"><code>Automatic Voltage Regulator</code></a>: Electromotive dynamics to model an AVR controller.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_PSS/#PSS"><code>Power System Stabilizer</code></a>: Control dynamics to define an stabilization signal for the AVR.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_TurbineGov/#TurbineGov"><code>Prime Mover and Turbine Governor</code></a>: Thermo-mechanical dynamics and associated controllers.</li></ul><p>The implementation of Synchronous generators as components uses the following structure to share values across components.</p><img src="https://github.com/NREL-SIIP/PowerSystems.jl/blob/master/docs/src/assets/gen_metamodel.png?raw=true" width="75%"><h2 id="Inverter-Models"><a class="docs-heading-anchor" href="#Inverter-Models">Inverter Models</a><a id="Inverter-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Inverter-Models" title="Permalink"></a></h2><p>Here we discuss the structure and models used to model inverters in <code>PowerSimulationsDynamics.jl</code>. See <a href="https://nrel-siip.github.io/PowerSystems.jl/stable/modeler_guide/example_dynamic_data/"><code>PowerSystems.jl</code> dynamic devices</a> for details. One of the key contributions in this software package is a separation of the components in a way that resembles current practices for synchronoues machine modeling.</p><ul><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_DCSource/#DCSource"><code>DC Source</code></a>: Defines the dynamics of the DC side of the converter.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_FrequencyEstimator/#FrequencyEstimator"><code>Frequency Estimator</code></a>: That describes how the frequency of the grid can be estimated using the grid voltages. Typically a phase-locked loop (PLL).</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/outer_control/#OuterControl"><code>Outer Loop Control</code></a>: That describes the active and reactive power control dynamics.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_InnerControl/#InnerControl"><code>Inner Loop Control</code></a>: That can describe virtual impedance, voltage control and current control dynamics.</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_Converter/#Converter"><code>Converter</code></a>: That describes the dynamics of the pulse width modulation (PWM) or space vector modulation (SVM).</li><li><a href="https://nrel-siip.github.io/PowerSystems.jl/stable/model_library/generated_Filter/"><code>Filter</code></a>: Used to connect the converter output to the grid.</li></ul><p>The following figure summarizes the components of a inverter and which variables they share:</p><img src="https://github.com/NREL-SIIP/PowerSystems.jl/blob/master/docs/src/assets/inv_metamodel.png?raw=true" width="75%"><p>Contrary to the generator, there are many control structures that can be used to model inverter controllers (e.g. grid-following, grid feeding or virtual synchronous machine). For this purpose, more variables are shared among the components in order to cover all these posibilities.</p><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><p>For models, check the library in <a href="https://nrel-siip.github.io/PowerSystems.jl/stable/">PowerSystems.jl</a></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../tutorials_page/">« Tutorials</a><a class="docs-footer-nextpage" href="../initialization/">Initialization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.7 on <span class="colophon-date" title="Wednesday 6 October 2021 23:06">Wednesday 6 October 2021</span>. Using Julia version 1.6.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
